{"version":3,"file":"index.mjs","sources":["../../../../../src/mods/binary/opaque/index.ts"],"sourcesContent":["import { Cursor } from \"@hazae41/cursor\";\nimport { Readable } from \"mods/binary/readable/index.js\";\nimport { Writable } from \"../writable/index.js\";\n\nexport class Opaque<T extends Uint8Array = Uint8Array> {\n\n  constructor(\n    readonly bytes: T\n  ) { }\n\n  sizeOrThrow() {\n    return this.bytes.length\n  }\n\n  writeOrThrow(cursor: Cursor) {\n    cursor.writeOrThrow(this.bytes)\n  }\n\n  cloneOrThrow() {\n    return new Opaque(new Uint8Array(this.bytes))\n  }\n\n  readIntoOrThrow<R extends Readable.Infer<R>>(readable: R): Readable.Output<R> {\n    return Readable.readFromBytesOrThrow(readable, this.bytes)\n  }\n\n}\n\nexport namespace Opaque {\n\n  export function readOrThrow(cursor: Cursor) {\n    return new Opaque(cursor.readOrThrow(cursor.remaining))\n  }\n\n  export function writeFromOrThrow(writable: Writable): Opaque {\n    if (writable instanceof Opaque)\n      return writable\n    return new Opaque(Writable.writeToBytesOrThrow(writable))\n  }\n\n}"],"names":[],"mappings":";;;MAIa,MAAM,CAAA;AAGN,IAAA,KAAA;AADX,IAAA,WAAA,CACW,KAAQ,EAAA;QAAR,IAAA,CAAA,KAAK,GAAL,KAAK;IACZ;IAEJ,WAAW,GAAA;AACT,QAAA,OAAO,IAAI,CAAC,KAAK,CAAC,MAAM;IAC1B;AAEA,IAAA,YAAY,CAAC,MAAc,EAAA;AACzB,QAAA,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC;IACjC;IAEA,YAAY,GAAA;QACV,OAAO,IAAI,MAAM,CAAC,IAAI,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAC/C;AAEA,IAAA,eAAe,CAA8B,QAAW,EAAA;QACtD,OAAO,QAAQ,CAAC,oBAAoB,CAAC,QAAQ,EAAE,IAAI,CAAC,KAAK,CAAC;IAC5D;AAED;AAED,CAAA,UAAiB,MAAM,EAAA;IAErB,SAAgB,WAAW,CAAC,MAAc,EAAA;AACxC,QAAA,OAAO,IAAI,MAAM,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;IACzD;AAFgB,IAAA,MAAA,CAAA,WAAW,cAE1B;IAED,SAAgB,gBAAgB,CAAC,QAAkB,EAAA;QACjD,IAAI,QAAQ,YAAY,MAAM;AAC5B,YAAA,OAAO,QAAQ;QACjB,OAAO,IAAI,MAAM,CAAC,QAAQ,CAAC,mBAAmB,CAAC,QAAQ,CAAC,CAAC;IAC3D;AAJgB,IAAA,MAAA,CAAA,gBAAgB,mBAI/B;AAEH,CAAC,EAZgB,MAAM,KAAN,MAAM,GAAA,EAAA,CAAA,CAAA;;;;"}